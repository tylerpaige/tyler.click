<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title></title>
<link rel="stylesheet" type="text/css" href="../assets/css/reset.css" />
<script src="../assets/js/jquery-2.1.3.min.js" type="text/javascript"></script>
<script>
$(function() {
	function getRand(min, max) {
		var rand = Math.floor(Math.random() * (max - min) + min);
		return rand;
	};
	function randomColor(){
		var r = getRand(0, 255),
				g = getRand(0, 255),
				b = getRand(0, 255),
				rgb = 'rgb(' + r + ', ' + g + ', ' + b + ')';
		return {
			'r'		: r,
			'g'		: g,
			'b'		: b,
			'rgb' : rgb
		};
	}
	function mixColor(c1, c2, y) {
		var m = {};
		m.r 	= Math.round(  (  (c1.r*(100-y)) + (c2.r*y)  )/100   );
		m.g 	= Math.round(  (  (c1.g*(100-y)) + (c2.g*y)  )/100   );
		m.b 	= Math.round(  (  (c1.b*(100-y)) + (c2.b*y)  )/100   );
		m.rgb = 'rgb(' + m.r + ', ' + m.g + ', ' + m.b + ')';

		return m;
	}
	function changeColor(e){
		var yPos 		= e.pageY;
		var height 	= $(window).height();
		var yPer		= Math.round(yPos / wHeight * 100)
		var color 	= mixColor(topColor, bottomColor, yPer);
		$('body').css('background-color', color.rgb)
	}

	var topColor = randomColor();
	var bottomColor = randomColor();


	var context = new (window.AudioContext || window.webkitAudioContext)();
	var distortion = context.createWaveShaper();

	var osc2 = context.createOscillator();
	osc2.frequency.value = 500;
	osc2.connect(context.destination);
	osc2.start(0);

  var wHeight = $(window).height();

  $(window).mousemove(function(e){
    var xPos = e.pageX,
        yPos = e.pageY,
        wHeight = $(window).height(),
        yPer = Math.floor(yPos / wHeight * 100);
    osc2.frequency.value = yPer * 10;

		changeColor(e);
  }).on('resize', function() {
    wHeight = $(window).height();
  });


});
</script>
</head>
<body>
</body>
</html>
